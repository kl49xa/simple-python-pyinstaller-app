pipeline {agent {docker { image 'maven' }}stages {stage ('Checkout') {steps {git branch'master', url 'httpsgithub.comScaleSecvulnado.git'}}stage ('Build') {steps {sh 'mvn --batch-mode -V -U -e clean verify -Dsurefire.useFile=false -Dmaven.test.failure.ignore'}}stage ('Analysis') {steps {sh 'mvn --batch-mode -V -U -e checkstylecheckstyle pmdpmd pmdcpd findbugsfindbugs'}}}post {always {junit testResults 'targetsurefire-reportsTEST-.xml'recordIssues enabledForFailure true, tools [mavenConsole(), java(), javaDoc()]recordIssues enabledForFailure true, tool checkStyle()recordIssues enabledForFailure true, tool spotBugs(pattern 'targetfindbugsXml.xml')recordIssues enabledForFailure true, tool cpd(pattern 'targetcpd.xml')recordIssues enabledForFailure true, tool pmdParser(pattern 'targetpmd.xml')}}}
